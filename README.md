XMiS Places Collector

<h2>🗺️ Система сбора данных о местах</h2> <p>Веб-приложение для сбора и управления информацией о местах (кафе, рестораны, бары, достопримечательности) с расширенной системой тегирования и поддержкой фотографий.</p><h2>🚀 Основные функции</h2> <ul> <li>📝 Интуитивная форма добавления мест с полной информацией</li> <li>🏷️ Расширенная система тегов и категорий</li> <li>🖼️ Загрузка фотографий с предпросмотром</li> <li>📊 Просмотр и управление собранными данными</li> <li>🔗 REST API для интеграции с другими системами</li> <li>📱 Адаптивный дизайн для всех устройств</li> </ul><h2>🏗️ Архитектура</h2> <pre> 
┌─────────────────┐    ┌──────────────────┐    ┌──────────────┐
│   Flask         │    │   JSON File      │    │   Static     │
│   Backend       │◄──►│   Database       │◄──►│   Files      │
└─────────────────┘    └──────────────────┘    └──────────────┘
         │                       │                    │
         │                       │                    │
         ▼                       ▼                    ▼
┌─────────────────┐    ┌──────────────────┐    ┌──────────────┐
│   HTML Forms    │    │   Data Export    │    │   Photos     │
│   & Templates   │    │   (JSON)         │    │   Storage    │
└─────────────────┘    └──────────────────┘    └──────────────┘
</pre><h3>Технологии</h3> <ul> <li><b>Backend:</b> Flask, Python</li> <li><b>Frontend:</b> HTML5, CSS3, JavaScript</li> <li><b>Хранилище:</b> JSON файлы</li> <li><b>Медиа:</b> Локальная файловая система для фото</li> <li><b>UI Components:</b> Кастомные CSS компоненты</li> </ul><h2>📡 Эндпоинты API</h2> <ul> <li><b>📝 Основные</b> <ul> <li>GET / — главная страница с формой добавления места</li> <li>POST / — обработка данных формы</li> <li>GET /data — просмотр всех сохраненных мест</li> </ul> </li> <li><b>🔗 API Endpoints</b> <ul> <li>GET /api/places — получить все места в JSON формате</li> </ul> </li> <li><b>🖼️ Медиа</b> <ul> <li>GET /static/photos/{filename} — получить фото места</li> </ul> </li> </ul><h2>🚀 Быстрый запуск</h2> <h3>Предварительные требования</h3> <ul> <li>Python 3.8+</li> <li>Flask</li> <li>Werkzeug</li> </ul><ol> <li> <b>Установка зависимостей</b> <pre><code>pip install flask werkzeug</code></pre> </li> <li> <b>Создание структуры проекта</b> <pre><code>mkdir -p static/photos templates # Создайте файлы: # app.py (основное приложение) # templates/index.html (главная страница) # templates/data.html (страница данных) # static/css/style.css (стили)</code></pre> </li> <li> <b>Запуск приложения</b> <pre><code>python app.py</code></pre> </li> <li> <b>Проверка</b> <p>Откройте в браузере: <a href="http://localhost:5001">http://localhost:5001</a></p> </li> </ol><h2>📊 Структура данных</h2> <p>Каждое место содержит следующие поля:</p>
<pre><code>
{
  "title": "Название места",
  "url": "https://2gis.ru/...",
  "description": "Описание места",
  "entity_types": ["кафе", "ресторан"],
  "atmosphere_tags": ["уютный", "тихий"],
  "purpose_tags": ["работа", "встречи"],
  "budget_level": "средний",
  "features": ["Wi-Fi", "розетки"],
  "best_time": "вечер",
  "opening_hours": "10:00-23:00",
  "working_days": ["пн", "вт", "ср", "чт", "пт"],
  "is_24_7": false,
  "overall_rating": 4.5,
  "review_count": 150,
  "photo": "static/photos/20241201123045_photo.jpg",
  "additional_photos": ["static/photos/20241201123045_photo2.jpg"],
  "created_at": "2024-01-15T14:30:00"
}
</code></pre>

<h2>🏷️ Система категорий</h2> <p>Приложение использует 6 основных категорий для классификации мест:</p><ul> <li><b>Типы мест (entity_types)</b> <ul> <li>кафе, ресторан, бар, паб, кофейня, бистро</li> <li>парк, сквер, набережная, площадь</li> <li>музей, галерея, библиотека, театр</li> <li>торговый центр, магазин, рынок</li> </ul> </li> <li><b>Атмосфера (atmosphere_tags)</b> <ul> <li>уютный, романтичный, тихий, спокойный</li> <li>шумный, оживленный, молодежный</li> <li>семейный, детский, деловой</li> <li>аутентичный, современный, винтажный</li> </ul> </li> <li><b>Цели посещения (purpose_tags)</b> <ul> <li>работа, учеба, коворкинг</li> <li>свидание, романтическая встреча</li> <li>встреча с друзьями, тусовка</li> <li>семейный отдых, детский</li> <li>прогулка, отдых, релакс</li> </ul> </li> <li><b>Бюджет (budget_level)</b> <ul> <li>бюджетный, экономный</li> <li>средний, демократичный</li> <li>дорогой, премиум</li> </ul> </li> <li><b>Особенности (features)</b> <ul> <li>Wi-Fi, розетки, кондиционер</li> <li>веранда, летняя площадка</li> <li>парковка, доступ для инвалидов</li> <li>живая музыка, караоке</li> <li>детская комната, игровая зона</li> </ul> </li> <li><b>Время посещения (best_time)</b> <ul> <li>утро, завтрак</li> <li>день, обед</li> <li>вечер, ужин</li> <li>ночь, вечеринка</li> </ul> </li> </ul><h2>🔧 Разработка</h2> <h3>Структура проекта</h3> 
<pre> 
  ├── app.py # Основное Flask приложение 
  ├── templates/ # HTML шаблоны 
  │ 
  ├── index.html # Главная страница с формой 
  │ 
  └── data.html # Страница просмотра данных 
  ├── static/ # Статические файлы 
  │ 
  ├── css/ 
  │ 
  │ └── style.css # Стили приложения 
  │ └── photos/ # Директория для загруженных фото 
  ├── places_data.json # Файл с данными (создается автоматически) 
  └── requirements.txt # Зависимости Python </pre><h3>Локальная разработка</h3> <p>Для запуска в режиме разработки:</p> <pre><code>python app.py</code></pre><p>Приложение будет доступно по адресу: <code>http://localhost:5001</code></p><h3>Конфигурация</h3> <p>Основные настройки в коде приложения:</p> <ul> <li><code>UPLOAD_FOLDER</code> — папка для загрузки фото</li> <li><code>MAX_CONTENT_LENGTH</code> — максимальный размер файла (16MB)</li> <li><code>ALLOWED_EXTENSIONS</code> — разрешенные форматы изображений</li> <li><code>DATA_FILE</code> — файл для хранения данных</li> </ul><h2>💡 Примеры использования</h2> <h3>Добавление нового места через форму</h3> <p>Заполните форму на главной странице с информацией о месте:</p> <ul> <li>Основные данные (название, описание, URL)</li> <li>Выбор категорий и тегов</li> <li>Указание времени работы и особенностей</li> <li>Загрузка фотографий</li> </ul><h3>Просмотр данных</h3> <p>Перейдите на страницу <code>/data</code> для просмотра всех сохраненных мест в удобном формате.</p><h3>Использование API</h3> <p>Получить все места в JSON формате:</p> <pre><code>curl -X GET "http://localhost:5001/api/places"</code></pre><h2>🔒 Безопасность</h2> <ul> <li>Валидация загружаемых файлов</li> <li>Обработка имен файлов с помощью <code>secure_filename</code></li> <li>Ограничение размера загружаемых файлов</li> <li>Проверка обязательных полей</li> </ul><h2>🚀 Деплой</h2> <p>Для продакшн-деплоя рекомендуется использовать:</p> <ul> <li>WSGI сервер (Gunicorn)</li> <li>Reverse proxy (Nginx)</li> <li>Настройка статических файлов</li> <li>Настройка безопасности</li> </ul>
